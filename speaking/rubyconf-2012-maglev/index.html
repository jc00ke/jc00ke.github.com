<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>MagLev!!!</title>

		<meta name="description" content="pdxruby October 2012 lightning talk">
		<meta name="author" content="Jesse Cooke">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../../reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../../reveal.js/css/print/pdf.css" type="text/css" media="print">
		<link rel="stylesheet" href="../../reveal.js/css/theme/default.css" id="theme">

		<link rel="stylesheet" href="../lib/css/solarized_light.css" >
		<link rel="stylesheet" href="../lib/css/styles.css">
		<link rel="stylesheet" href="lib/assets/styles.css">
	</head>

	<body>

		<div class="reveal">

			<!-- Used to fade in a background when a specific slide state is reached -->
			<div class="state-background"></div>

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section data-markdown>
          <script type="text/template">
            # Good Morning!
          </script>
					<script>
						// Delicously hacky. Look away.
						if( navigator.userAgent.match( /(iPhone|iPad|iPod|Android)/i ) ) document.write( '<p style="color: rgba(0,0,0,0.3); text-shadow: none;">('+'Tap to navigate'+')</p>' );
					</script>
				</section>

				<section data-markdown>
          <script type="text/template">
            # What is MagLev?

            ![MagLev logo](lib/assets/maglev-logo.gif)
          </script>
        </section>

				<section>
					<blockquote cite="http://www.gemstone.com/products/gemstone">
            GemStone/S is the state-of-the-art platform for developing, deploying, and managing scalable, high-performance, multi-tier applications based on business <span class="emphasis">objects</span>.
					</blockquote>
					<p>
            <img src="lib/assets/gemstone-s-logo.png" alt="GemStone/S" />
            <!-- TODO: attribution - http://www.gemstone.com/products/gemstone -->
					</p>
          <aside class="notes">
            <p>Lots of buzzwords, and a lot of power in that last word.</p>
            <p>Well, who's GemStone? (the company)</p>
            <ol>
              <li>Well-tuned VM to run Smalltalk</li>
              <li>
                Battle-tested
                <ul>
                  <li>OOCL</li>
                  <li>National Slovenian Gas</li>
                  <li>JPMorgan Chase</li>
                  <li>Merril Lyn... haha just kidding</li>
                  <li>JACK IN THE BOX!</li>
                </ul>
              </li>
              <li>Transparent Object Persistence</li>
            </ol>
          </aside>
        </section>

				<section data-markdown>
          <script type="text/template">
            # Why is it so special?
          </script>
        </section>

        <section>
          <h2 class="emphasis">Transparent Object Persistence</h2>
          <div class="fragment">
            <blockquote>
              I've often wished that I could just do something where I just change a bunch of models and at the end of the request cycle something magical goes through and collects up all the models that have changed and persists them, and I haven't really gotten to that level yet. Sometimes I feel that ActiveRecord is holding me back from that.
            </blockquote>
            <p>Avdi Grimm</p>
           </div>
          <aside class="notes">
            <ul>
              <li>Heading up to Cascadia Ruby</li>
              <li>Ruby Rogues, DDD w/David Laribee</li>
            </ul>
          </aside>
        </section>

        <section>
          <h2 class="emphasis">The Punchline</h2>
          <blockquote class="fragment">
            You can just switch to Java, or .NET.
          </blockquote>
          <p>David Laribee</p>
          <!-- http://rubyrogues.com/rr-061-domain-driven-design-ddd-with-david-laribee/ -->
        </section>

        <section>
          <img src="lib/assets/sad-trombone.png" alt="Waa waaah" />
          <!-- http://www.hark.com/collections/bvtjyltcpl-trombone -->
        </section>

				<section data-markdown>
          <script type="text/template">
            ![OOCL Truck](lib/assets/oocl-truck.jpg)
          </script>
        </section>

				<section>
          <h1>Persisting objects is hard</h1>
          <h2 class="fragment">Let's go shopping!</h2>
          <aside class="notes">
            It's not that we don't have nice tools...
            <ul>
              <li>ActiveRecord</li>
              <li>Sequel</li>
              <li>Mongoid</li>
              <li>etc</li>
            </ul>
            Too many non-trivial decisions to make.
          </aside>
        </section>

				<section data-markdown>
          <script type="text/template">
            # Avi Bryant

            ## Super Smart

            ![Avi](lib/assets/avi.jpg)

            [Ruby and Other Gems](http://web.archive.org/web/20110328010807/http://www.avibryant.com/2008/03/ive-had-a-numbe.html)
          </script>

          <aside class="notes">
            Rails as an architecture
            <ul>
              <li>Central database</li>
              <li>Many App servers</li>
              <li>In-memory caches</li>
              <li>etc</li>
            </ul>
            How many of you have implemented a system like that?
          </aside>
        </section>

        <section>
          <table class="relational-table avi-table">
            <thead>
              <tr>
                <th></th>
                <th colspan="2">Rails</th>
                <th colspan="2">Gemstone</th>
              </tr>
              <tr>
                <th></th>
                <th>Provided By</th>
                <th>Stores</th>
                <th>Provided By</th>
                <th>Stores</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Storage Engine</td>
                <td>MySQL</td>
                <td>objects mapped to relational tables</td>
                <td>"Stone" object store</td>
                <td>Smalltalk objects</td>
              </tr>
              <tr>
                <td>Memory Cache</td>
                <td>memcached</td>
                <td>objects marshalled to strings</td>
                <td>Shared page cache</td>
                <td>Smalltalk objects</td>
              </tr>
              <tr>
                <td>Worker Process</td>
                <td>MRI/Mongrel</td>
                <td>Ruby objects</td>
                <td>"Gem" Smalltalk VM</td>
                <td>Smalltalk objects</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <table class="relational-table avi-table">
            <thead>
              <tr>
                <th></th>
                <th colspan="2">Rails</th>
                <th colspan="2">Gemstone</th>
              </tr>
              <tr>
                <th></th>
                <th>Provided By</th>
                <th>Stores</th>
                <th>Provided By</th>
                <th>Stores</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Storage Engine</td>
                <td>MySQL</td>
                <td>objects mapped to relational tables</td>
                <td>"Stone" object store</td>
                <td class="emphasis">Smalltalk objects</td>
              </tr>
              <tr>
                <td>Memory Cache</td>
                <td>memcached</td>
                <td>objects marshalled to strings</td>
                <td>Shared page cache</td>
                <td class="emphasis">Smalltalk objects</td>
              </tr>
              <tr>
                <td>Worker Process</td>
                <td>MRI/Mongrel</td>
                <td>Ruby objects</td>
                <td>"Gem" Smalltalk VM</td>
                <td class="emphasis">Smalltalk objects</td>
              </tr>
            </tbody>
          </table>
        </section>

				<section data-markdown>
          <script type="text/template">
            # GemStone/R
          </script>
          <aside class="notes">
            <p>You're essentially implementing the Ruby version of GemStone/S, but without the object persistence.</p>
            <p>And you have to keep track of everything</p>
            <p>And you doing it wrong</p>
          </aside>
        </section>

				<section data-markdown>
          <script type="text/template">
            # Thanks!

            ## Jesse Cooke

            [github/jc00ke](https://github.com/jc00ke)

            [@jc00ke](https://twitter.com/jc00ke)

            jesse [at] jc00ke.com
          </script>
        </section>

      </div>

			<!-- Presentation progress bar -->
			<div class="progress"><span></span></div>

		</div>

		<script src="../../reveal.js/lib/js/head.min.js"></script>

		<script>
			// Load reveal.js as well as a classList polyfill if needed
			head.js( !document.body.classList ? '../../reveal.js/lib/js/classList.js' : null )
				.js( '../../reveal.js/js/reveal.js', function() {

				// Parse the query string into a key/value object
				var query = {};
				location.search.replace( /[A-Z0-9]+?=(\w*)/gi, function(a) {
					query[ a.split( '=' ).shift() ] = a.split( '=' ).pop();
				} );

				// Fires when a slide with data-state=customevent is activated
				Reveal.addEventListener( 'customevent', function() {
					console.log( '"customevent" has fired' );
				} );

				// Fires each time a new slide is activated
				Reveal.addEventListener( 'slidechanged', function( event ) {
					// event.previousSlide, event.currentSlide, event.indexh, event.indexv
				} );

				// Full list of configuration options available here:
				// https://github.com/hakimel/reveal.js#configuration
				Reveal.initialize({
					controls: true,
					progress: true,
					history: true,
          rollingLinks: false,
					theme: query.theme || 'default', // default/neon/beige
					transition: query.transition || 'none', // default/cube/page/concave/linear(2d)
          dependencies: [
            // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
            { src: '../../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            // Interpret Markdown in <section> elements
            { src: '../../reveal.js/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '../../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            // Syntax highlight for <code> elements
            { src: '../../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            // Zoom in and out with Alt+click
            { src: '../../reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
            // Speaker notes
            { src: '../../reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          ]
      });

			} );

			// Load highlight.js for syntax highlighting of code samples
			head.js( '../../reveal.js/plugin/highlight/highlight.js', function() {
				hljs.initHighlightingOnLoad();
			} );

			// If we're runnning the notes server we need to include some additional JS
			// TODO Is there a better way to determine if we're running the notes server?
			if( window.location.host === 'localhost:1947' ) {
				head.js( 'socket.io/socket.io.js', '../../reveal.js/lib/plugin/speakernotes/client.js' );
			}
		</script>
    <script type="text/javascript">
      //<![CDATA[
        if(document.location.hostname.match(/jc00ke/)) {
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-35917203-1']);
          _gaq.push(['_trackPageview']);

          (function() {
              var ga = document.createElement('script');
              ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
                  'http://www') + '.google-analytics.com/ga.js';
              ga.setAttribute('async', 'true');
              document.documentElement.firstChild.appendChild(ga);
          })();
        }
      //]]>
    </script>

	</body>
</html>
